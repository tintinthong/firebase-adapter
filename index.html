<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <!-- <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-app.js"></script> -->
    <!-- <script src="https://www.gstatic.com/firebasejs/6.2.4/firebase-firestore.js"></script> -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

</head>

<body>


    <!-- Bootstrap form -->

    <div class="container">

        <div>
            <h2>Add Experiences</h2>
        </div>

        <form id="expForm" action="" onsubmit="">

            <div class="form-group">
                <label for="name">Name of Experience</label>
                <input type="text" id="name" name="name" placeholder="Enter the name of your experience" />
            </div>

            <div class="form-group">
                <label for="expDescription">Describe your experience</label>
                <textarea id="expDescription" name="expDescription"
                    placehohlder="Add a description of your experience"></textarea>
            </div>

            <div class="form-group">
                <label for="price">Price</label>
                <input type="number" id="price" name="price" placehohlder="Add how much it cost"></input>
            </div>

            <div class="form-group">
                <label for="date">Date of experience</label>
                <input type="datetime-local" id="date" name="date" placehohlder="Add how much it cost"></input>
            </div>

            <div class="form-group">
                <label for="numPax">Number of Pax</label>
                <input type="text" id="numPax" name="numPax" placeholder="e.g. 1 or 2-4" />
            </div>

            <div class="form-group">
                <label for="streetAddress">Street Address</label>
                <input type="text" id="streetAddress" name="streetAddress"
                    placeholder="Enter your street address here" />
            </div>

            <div class="form-group">
                <label for="city">City</label>
                <input type="text" id="city" name="city" placeholder="Enter your city here" />
            </div>

            <div class="form-group">

                <label for="state">State</label>
                <input type="text" id="state" name="state" placeholder="Enter your state here" />
            </div>


            <div class="form-group">

                <label for="country">Country</label>
                <input type="text" id="country" name="country" placeholder="Enter your country here" />
            </div>

            <div class="form-group">

                <label for="zipCode">Zip Code</label>
                <input type="text" id="zipCode" name="zipCode" placeholder="Enter your Zip Code" />
            </div>


            <div class="form-group">
                <label for="itinerary">Itinerary</label>
                <textarea id="itinerary" name="itinerary" placehohlder="Add itinerary"></textarea>
            </div>

            <div class="form-group">
                <label for="duration">Duration</label>
                <input type="number" id="duration" name="duration" placehohlder="Add how much it cost"></input>
            </div>

            <div class="form-group">
                <label for="language">Language</label>
                <input type="radio" name="language" value="english" checked> English<br>
                <input type="radio" name="language" value="arab"> Arabic<br>
                <input type="radio" name="language" value="other"> Other
            </div>


            <input type="submit">

        </form>

    </div>


    <div class="container">



        <div>
            <h2>Add Users</h2>
        </div>
        <!-- Bootstrap form -->

        <form id="userForm" action="" onsubmit="">

            <div class="form-group">
                <label for="firstname">First Name</label>
                <input type="text" id="firstname" name="firstname" placeholder="Enter your first name" />
            </div>

            <div class="form-group">
                <label for="lastname">First Name</label>
                <input type="text" id="lastname" name="lastname" placeholder="Enter your last name" />
            </div>

            <div class="form-group">
                <label for="from">Email</label>
                <input type="email" id="from" name="from" placeholder="Enter your email here" />
            </div>

            <div class="form-group">
                <label for="phoneNumber">Phone Number</label>
                <input type="tel" id="phoneNumber" name="phoneNumber" placeholder="Enter phone number here " />
            </div>

            <div class="form-group">
                <!-- Consider using google maps api-->
                <label for="hostAddress">Host Address</label>
                <input type="text" id="hostAddress" name="hostAddress" placeholder="Enter your address" />
            </div>

            <div class="form-group">
                <label for="hostDescription">Description</label>
                <textarea id="hostDescription" name="hostDescription"
                    placeholder="Tell us something about yourself"></textarea>
            </div>

            <div class="form-group">
                <label for="streetAddress">Street Address</label>
                <input type="text" id="streetAddress" name="streetAddress"
                    placeholder="Enter your street address here" />
            </div>

            <div class="form-group">
                <label for="city">City</label>
                <input type="text" id="city" name="city" placeholder="Enter your city here" />
            </div>

            <div class="form-group">

                <label for="state">State</label>
                <input type="text" id="state" name="state" placeholder="Enter your state here" />
            </div>


            <div class="form-group">

                <label for="country">Country</label>
                <input type="text" id="country" name="country" placeholder="Enter your country here" />
            </div>

            <div class="form-group">

                <label for="zipCode">Zip Code</label>
                <input type="text" id="zipCode" name="zipCode" placeholder="Enter your Zip Code" />
            </div>


            <input type="submit">

        </form>

    </div>

    <script>


        let postForm = function (formId, endpoint) {

            var form = document.getElementById(formId);

            form.addEventListener('submit', function (event) {



                var headers = new Headers();

                const formData = new URLSearchParams(new FormData(this))

                //url is absolute?
                var url = endpoint;
                var fetchOptions = {
                    method: 'POST',
                    headers,
                    body: formData
                };

                //define cors
                var responsePromise = fetch(url, fetchOptions);

                responsePromise

                    //accept json-like objects

                    //JSON.stringify  object-> JSON string
                    //accepting json formats that hahve been strinfied
                    // .then(function(response) {
                    //     return response.json()
                    // }).then(
                    // function(data){
                    //     console.log(data)
                    // })

                    //accept text/html
                    .then(function (response) {
                        return response.text()
                    }).then(
                        function (data) {
                            //prints empty data
                            console.log(data);
                        }).catch(function (error) {
                            console.log('Error in response')
                        }
                        )

                event.preventDefault();
            });

        }

        postForm("expForm", "http://localhost:8080/experiences/new/")
        postForm("userForm", "http://localhost:8080/users/new/")

    </script>




</body>

</html>

